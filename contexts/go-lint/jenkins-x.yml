buildPack: none
pipelineConfig:
  pipelines:
    pullRequest:
      pipeline:
        agent:
          image: pipelinecomponents/go-lint:latest
        stages:
          - name: ci
            environment:
              - name: GIT_COMMITTER_EMAIL
                value: jenkins-x@googlegroups.com
              - name: GIT_AUTHOR_EMAIL
                value: jenkins-x@googlegroups.com
              - name: GIT_AUTHOR_NAME
                value: jenkins-x-bot
              - name: GIT_COMMITTER_NAME
                value: jenkins-x-bot
              - name: JUNIT_REPORT
                value: "true"
              - name: PARALLEL_BUILDS
                value: "2"
              - name: DISABLE_TEST_CACHING
                value: "true"
            options:
              containerOptions:
                resources:
                  limits:
                    cpu: 4
                    memory: 8Gi
                  requests:
                    cpu: 3
                    memory: 3072Mi
            steps:
              - name: build
                image: pipelinecomponents/go-lint:latest
                command: go-lint
                args: ['-v', './...']